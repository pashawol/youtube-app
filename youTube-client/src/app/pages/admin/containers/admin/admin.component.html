<form (ngSubmit)="onSubmit()" class="form p-card" [formGroup]="adminForm">
    <h1>Created new card</h1>

    <div class="p-inputgroup">
        <input required type="text" formControlName="title" pInputText placeholder="Title" />
        <app-invalid-text
            [field]="adminForm.get('title')"
            [errors]="[
                { name: 'required', text: 'Please enter a title' },
                { name: 'minlength', text: 'The title is too short' },
                { name: 'maxlength', text: 'The title is too long' }
            ]"
        />
    </div>

    <div class="p-inputgroup">
        <input required type="text" formControlName="description" pInputText placeholder="Description" />
        <app-invalid-text
            [field]="adminForm.get('description')"
            [errors]="[{ name: 'maxlength', text: 'The description is too long' }]"
        />
    </div>
    <div class="p-inputgroup">
        <input required type="text" formControlName="img" pInputText placeholder="Img" />
        <app-invalid-text
            [field]="adminForm.get('img')"
            [errors]="[{ name: 'required', text: 'Please enter a link to the image' }]"
        />
    </div>
    <div class="p-inputgroup">
        <input required type="text" formControlName="video" pInputText placeholder="Link video" />
        <app-invalid-text
            [field]="adminForm.get('video')"
            [errors]="[{ name: 'required', text: 'Please enter a link to the video' }]"
        />
    </div>

    <div class="p-inputgroup">
        <input required type="text" formControlName="creationDate" pInputText placeholder="Creation date" />
        <app-invalid-text
            [field]="adminForm.get('creationDate')"
            [errors]="[
                { name: 'required', text: 'Please enter a link to the video' },
                { name: 'date', text: 'The date is invalid' }
            ]"
        />
    </div>
    <div class="tags-wrap">
        <ng-container formArrayName="tags" *ngFor="let tag of tags.controls; let i = index">
            <div class="p-inputgroup" [formGroupName]="i">
                <div class="p-inputgroup-tag">
                    <input required type="text" formControlName="tag" pInputText placeholder="Add tag" />
                    <app-button *ngIf="tags.length > 1" (buttonClick)="removeTag(i)" icon="pi pi-times"> </app-button>
                </div>
                <app-invalid-text
                    [field]="tag.get('tag')"
                    [errors]="[
                        { name: 'required', text: 'Please enter a link to the video' },
                        {
                            name: 'minlength',
                            text: 'The tag is too short'
                        },
                        { name: 'maxlength', text: 'The tag is too long' }
                    ]"
                />
            </div>
        </ng-container>
        <app-button *ngIf="isTagsLength" (buttonClick)="addTag()">Add tag </app-button>
    </div>

    <div class="buttons">
        <app-button type="submit" buttonStyle="width: 100%" [disabled]="adminForm.invalid">Created card </app-button>
        <app-button buttonStyle="width: 100%" (buttonClick)="resetForm()">Reset </app-button>
    </div>
</form>
